{% extends "master.html" %}
{% load static %}

<!-- title -->
{% block title %} SWBC | News & Events {% endblock %}

<!-- content -->
{% block content %}

<!-- header -->
<header id="news_events" class="news_header mb-5">
  <div class="overlay text-white text-center">
    <h1 class="display-2 font-weight-bold my-3">News & Events</h1>
  </div>
</header>

<!-- SEARCH Section  -->
<div
  class="container-fluid search-overlay text-center text-light has-height-md middle-items pt-5"
>
  <div class="">
    <form method="get">
      <div class="row mb-5 align-items-center justify-content-center">
        <div class="col-md-5 col-sm-6 my-2">{{ form.title }}</div>
        <div class="col-md-3 col-sm-4 my-2">{{ form.year }}</div>
        <div class="col-md-2 col-sm-8 my-2">
          <button type="submit" class="btn btn-primary w-100" id="rounded-btn" style="font-size: 14px; font-weight: 600; padding: 10px 20px; height: 100%;">
            SEARCH
          </button>
        </div>
      </div>
    </form>
  </div>

  <!-- Events Section -->
  <div class="container-fluid bg-dark text-light py-4">
    <div class="newsevents-showcase">
      <h3 class="showcase-header">All News & Events</h3>
      
      <div class="showcase-wrapper">
        <div class="newsevents-grid">
          {% for news in paginated_events %}
          <article class="newsevent-card">
            {% if news.feature_pic %}
            <div class="newsevent-image-wrapper">
              <img
                src="{{news.feature_pic.url}}"
                alt="{{news.title}}"
                class="newsevent-image"
                loading="lazy"
              />
            </div>
            {% endif %}
            <div class="newsevent-content">
              <h4 class="newsevent-title">{{news.title}}</h4>
              <time class="newsevent-date">{{news.date_updated|date:"M. d, Y"}}</time>
              <p class="newsevent-excerpt">
                {{news.content|safe|truncatewords:25}}
              </p>
              <a href="details/{{news.id}}" class="newsevent-link">
                Read More
              </a>
            </div>
          </article>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>

  <!-- PAGINATION Section -->
  {% with paginated_items=paginated_events %}
    {% include 'partials/pagination.html' %}
  {% endwith %}

{% endblock %}
</div>
