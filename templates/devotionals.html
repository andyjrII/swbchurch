{% extends "master.html" %}
{% load static %}

<!-- title -->
{% block title %} SWBC | Daily Devotionals {% endblock %}

<!-- content -->
{% block content %}

<!-- header -->
<header id="devotionals" class="sermons_header mb-5">
  <div class="overlay text-white text-center">
    <h1 class="display-2 font-weight-bold my-3">Daily Devotionals</h1>
  </div>
</header>

<!-- SEARCH Section  -->
<div
  class="container-fluid search-overlay text-center text-light has-height-md middle-items pt-5"
>
  <div class="">
    <form method="get">
      <div class="row mb-5 align-items-center justify-content-center">
        <div class="col-md-5 col-sm-6 my-2">{{ form.title }}</div>
        <div class="col-md-3 col-sm-4 my-2">{{ form.year }}</div>
        <div class="col-md-2 col-sm-8 my-2">
          <button type="submit" class="btn btn-primary w-100" id="rounded-btn" style="font-size: 14px; font-weight: 600; padding: 10px 20px; height: 100%;">
            SEARCH
          </button>
        </div>
      </div>
    </form>
  </div>

  <!-- DEVOTIONALS Section -->
  <div class="container-fluid bg-dark text-light py-4">
    <div class="devotional-showcase">
      <h3 class="showcase-header">All Devotionals</h3>
      
      <div class="showcase-wrapper">
        <div class="devotional-grid">
          {% for devotional in paginated_devotionals %}
          <article class="devotional-card">
            <div class="devotional-content">
              <div class="devotional-header">
                <h4 class="devotional-title">{{devotional.title}}</h4>
                {% if devotional.date %}
                <time class="devotional-date">{{devotional.date|date:"M. d, Y"}}</time>
                {% endif %}
              </div>
              <div class="devotional-excerpt">
                <p>{{devotional.contents|safe|truncatewords:25}}</p>
              </div>
              <div class="devotional-action">
                <a href="details/{{devotional.id}}" class="devotional-btn">
                  Read More
                </a>
              </div>
            </div>
          </article>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>

  <!-- PAGINATION Section -->
  {% with paginated_items=paginated_devotionals %}
    {% include 'partials/pagination.html' %}
  {% endwith %}

{% endblock %}
</div>
